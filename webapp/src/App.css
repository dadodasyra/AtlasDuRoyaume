body,html,#root { margin:0; height:100%; display:flex; flex-direction:column; }
.header { background:#4b3b2b; color:#fff; padding:0.5rem; text-align:center; display:flex; align-items:center; justify-content:center; gap:0.5rem; }
.header h1 { font-size:1.2rem; margin:0; }
.logo { width:24px; height:24px; }
.nav-bottom { position:fixed; bottom:0; left:0; right:0; background:#4b3b2b; display:flex; justify-content:space-around; padding:0.5rem 0; height:3rem; }
.nav-bottom a { color:#f0e6d2; text-decoration:none; font-size:1rem; }
.content { flex:1; position:relative; background: #f7f5ee; }
.error { color: red; }
.settings { padding:1rem; max-width:600px; margin:0 auto; }
.settings input,.settings select { width:100%; margin-bottom:0.5rem; padding:0.25rem; }
.settings button { margin-bottom:0.5rem; }
.group-actions { margin-bottom:0.5rem; display:flex; gap:0.5rem; }
.map-container { position:absolute; top:0; left:0; right:0; bottom:4rem; }
.leaflet-control-attribution { display:none !important; }
.leaflet-control-zoom { display:none; }
.legend-btn { position:absolute; bottom:5rem; right:0.5rem; z-index:1000; background:#4b3b2b; color:#fff; border:none; border-radius:4px; padding:0.5rem 0.75rem; font-size:1.2rem; }
.locate-btn { position:absolute; bottom:5rem; left:0.5rem; z-index:1000; background:#4b3b2b; color:#fff; border:none; border-radius:4px; padding:0.5rem 0.75rem; font-size:1.2rem; }
.legend-panel { position:absolute; bottom:9rem; right:0.5rem; background:rgba(255,255,255,0.7); padding:0.5rem; z-index:1000; max-width:200px; border-radius:4px; }
.legend-panel .search { width:100%; margin-bottom:0.5rem; }
.legend-item { display:flex; align-items:center; cursor:pointer; margin-bottom:0.25rem; }
.legend-icon { margin-right:0.5rem; }
.legend-item.disabled span:last-child { color:#888; text-decoration: line-through; }
.settings-card { background:#f7f5ee; padding:1rem; border-radius:6px; box-shadow:0 0 4px rgba(0,0,0,0.1); }
.loading { text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100% }
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
.spinner { animation: spin 1.5s linear infinite; }
.loading-icon { margin-top: 1rem}